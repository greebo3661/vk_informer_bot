# üóìÔ∏è VK Teams Vacation Bot

–ë–æ—Ç –¥–ª—è VK Teams, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç Excel-—Ñ–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º –æ—Ç–ø—É—Å–∫–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –æ—Ç–ø—É—Å–∫–∞—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìé –ü—Ä–∏–Ω–∏–º–∞–µ—Ç Excel-—Ñ–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º –æ—Ç–ø—É—Å–∫–æ–≤
- ‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –æ—Ç–ø—É—Å–∫–∞—Ö –∑–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π
- üì¢ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —á–∞—Ç/–∫–∞–Ω–∞–ª
- üïò –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–ø—É—Å–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00

## –§–æ—Ä–º–∞—Ç Excel-—Ñ–∞–π–ª–∞

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:

| –§–ò–û | –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è | –ö–æ–ª-–≤–æ –¥–Ω–µ–π | (–ø—É—Å—Ç–æ) | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ |
|-----|-------------|-------------|---------|-------------|
| –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á | –û–û–û –ö–æ–º–ø–∞–Ω–∏—è | 14 | | 01.06.2026 |

–î–∞—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–î–î.–ú–ú.–ì–ì–ì–ì` –∏–ª–∏ –∫–∞–∫ Excel-–¥–∞—Ç–∞.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

```env
VKT_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
VKT_BASE_URL=https://myteam.mail.ru/bot/v1
VKT_BOT_NAME=–∏–º—è_–±–æ—Ç–∞
VKT_HR_CHAT_ID=id_—á–∞—Ç–∞_–¥–ª—è_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
DATA_FILE=/data/vacation_data.json
FILE_PATH=/data/latest.xlsx
```

> **–î–ª—è on-premise:** –∑–∞–º–µ–Ω–∏—Ç–µ `VKT_BASE_URL` –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ VK Teams, –Ω–∞–ø—Ä–∏–º–µ—Ä `https://teams.company.com/bot/v1`

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
docker compose up -d
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å –±–æ—Ç–æ–º –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
2. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ Excel-—Ñ–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º –æ—Ç–ø—É—Å–∫–æ–≤
3. –í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `7`)
4. –ë–æ—Ç –±—É–¥–µ—Ç –ø—Ä–∏—Å—ã–ª–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00

## –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã |
| `/status` | –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ |

–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏: **üìä –°—Ç–∞—Ç—É—Å**, **‚ÑπÔ∏è –ü–æ–º–æ—â—å**, **üì¢ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç —á–∞—Ç**.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main.py          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ data/                # –î–∞–Ω–Ω—ã–µ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ vacation_data.json
‚îÇ   ‚îî‚îÄ‚îÄ latest.xlsx
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ requirements.txt
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `VKT_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**) | ‚Äî |
| `VKT_BASE_URL` | URL API VK Teams | `https://myteam.mail.ru/bot/v1` |
| `VKT_BOT_NAME` | –ò–º—è –±–æ—Ç–∞ | `vacation_bot` |
| `VKT_HR_CHAT_ID` | –ß–∞—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | ‚Äî |
| `DATA_FILE` | –ü—É—Ç—å –∫ JSON-—Ñ–∞–π–ª—É –¥–∞–Ω–Ω—ã—Ö | `/data/vacation_data.json` |
| `FILE_PATH` | –ü—É—Ç—å –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ xlsx | `/data/latest.xlsx` |

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [bot-python](https://github.com/mail-ru-im/bot-python) ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π SDK VK Teams
- [pandas](https://pandas.pydata.org/) + [openpyxl](https://openpyxl.readthedocs.io/) ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ Excel
- Python 3.11, asyncio, Docker
